{"version":3,"file":"timer-login.js","sourceRoot":"","sources":["../../src/components/timer-login.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, State } from '@stencil/core/internal';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n  tag: 'rf-timer-login',\r\n  styleUrl: './timer-login.css',\r\n  shadow: true\r\n})\r\nexport class TimerLogin {\r\n  emailInputElement: HTMLInputElement;\r\n  passwordInputElement: HTMLInputElement;\r\n  @State() emailInputBind: string;\r\n  @State() passwordInputBind: string;\r\n  @State() isEmailValid = 'blank';\r\n  @State() isPasswordValid = false;\r\n  @State() isLoginSuccess = '';\r\n  emailInputChange(event: Event) {\r\n    let value = (event.target as HTMLInputElement).value;\r\n    console.log(value);\r\n    let emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    let emailValid = emailPattern.test(value);\r\n    if (value == '') {\r\n      this.isEmailValid = 'blank';\r\n    } else if (!emailValid) {\r\n      this.isEmailValid = 'notEmail';\r\n    } else {\r\n      this.isEmailValid = 'valid';\r\n    }\r\n  }\r\n\r\n  passwordInputChange(event: Event) {\r\n    let value = (event.target as HTMLInputElement).value;\r\n    console.log(value);\r\n    if (value == '') {\r\n      this.isPasswordValid = false;\r\n    } else {\r\n      this.isPasswordValid = true;\r\n    }\r\n  }\r\n\r\n  onSubmitForm(event: Event) {\r\n    event.preventDefault();\r\n    let email = this.emailInputElement.value;\r\n    let password = this.passwordInputElement.value;\r\n\r\n    console.log(email);\r\n    console.log(password);\r\n    if (email == 'stencil@live.com' && password == 'stencil123') {\r\n      this.isLoginSuccess = 'success';\r\n    } else {\r\n      this.isLoginSuccess = 'fail';\r\n    }\r\n  }\r\n\r\n  @State() duration = moment.duration(1, 'minutes');\r\n  interval = 1000; // 1 second\r\n  @State() displayTimer: string;\r\n  @State() isDisabled = false\r\n\r\n  timer = setInterval(() => {\r\n    this.duration = moment.duration(+this.duration - this.interval, 'milliseconds');\r\n    this.displayTimer = this.duration.minutes() + ':' + this.duration.seconds();\r\n\r\n    if (this.duration.asSeconds() <= 0) {\r\n      this.isDisabled = true;\r\n      clearInterval(this.timer);\r\n      this.displayTimer = \"Time's up!\";\r\n    }\r\n  }, this.interval);\r\n\r\n  componentDidLoad() {\r\n    this.timer\r\n  }\r\n  render() {\r\n    let emailError = <div></div>;\r\n    if (this.isEmailValid == 'blank') {\r\n      emailError = <div class=\"error-txt\">Email can't be blank</div>;\r\n    }\r\n    if (this.isEmailValid == 'notEmail') {\r\n      emailError = <div class=\"error-txt\">Email not valid</div>;\r\n    }\r\n    let passwordError = <div></div>;\r\n    if (!this.isPasswordValid) {\r\n      passwordError = <div class=\"error-txt\">Password can't be blank</div>;\r\n    }\r\n\r\n    let message = <div></div>;\r\n    if (this.isLoginSuccess == 'success') {\r\n      message = <div class=\"msg-s\">Login successful</div>;\r\n    }\r\n    if (this.isLoginSuccess == 'fail') {\r\n      message = <div class=\"msg-i\">Email or Password incorrect</div>;\r\n    }\r\n    let timer = null;\r\n    if(!this.isDisabled){\r\n      timer = <div class={{'sign-txt':true,  'timer':true,  'interactive':true, 'no-opacity': this.isDisabled}}> \r\n      You only have {this.displayTimer} s to Login\r\n    </div>\r\n    }\r\n    if(this.isDisabled){\r\n      timer =<div class={{'sign-txt':true,  'timer':true,  'interactive':true, 'no-opacity': this.isDisabled}}>\r\n      {this.displayTimer}\r\n    </div>\r\n    }\r\n    return (\r\n      <div class='main'>\r\n        <div class=\"wrapper\">\r\n          <header>Login Form</header>\r\n          <form action=\"#\" onSubmit={this.onSubmitForm.bind(this)} class={{'disabled': this.isDisabled}}>\r\n            <div class=\"field email\">\r\n              <div class=\"input-area\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"\r\n                  ref={el => (this.emailInputElement = el)}\r\n                  value={this.emailInputBind}\r\n                  onInput={this.emailInputChange.bind(this)}\r\n                ></input>\r\n                <svg class=\"position design\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                  .\r\n                  <path d=\"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z\" />\r\n                </svg>\r\n              </div>\r\n              {emailError}\r\n            </div>\r\n            <div class=\"field password\">\r\n              <div class=\"input-area\">\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  ref={el => (this.passwordInputElement = el)}\r\n                  value={this.passwordInputBind}\r\n                  onInput={this.passwordInputChange.bind(this)}\r\n                ></input>\r\n                <svg class=\"position design\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\r\n                  <path d=\"M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z\" />\r\n                </svg>\r\n              </div>\r\n              {passwordError}\r\n            </div>\r\n            <div class=\"pass-txt\">\r\n              <a href=\"#\">Forgot password?</a>\r\n            </div>\r\n            {message}\r\n            <button type=\"submit\" disabled={this.isEmailValid == 'blank' || this.isEmailValid == 'notEmail' || !this.isPasswordValid}>\r\n              LOG IN\r\n            </button>\r\n          </form>\r\n          {timer}\r\n          <div class=\"sign-txt\">\r\n            Not yet member? <a href=\"#\">Signup now</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}